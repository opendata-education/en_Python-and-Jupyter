
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Using Python on Jupyter &#8212; Python and Jupyter</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="canonical" href="https://opendata-education.github.io/en_Python-and-Jupyter/intro.html/exercises/Python-tutorial.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Data-analysis" href="data-analysis.html" />
    <link rel="prev" title="Python" href="Python.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Python and Jupyter</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="Python.html">
   Python
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Using Python on Jupyter
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="data-analysis.html">
   Data-analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Histogram.html">
     Histogram
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/opendata-education/en_Python-and-Jupyter/main?urlpath=tree/content/exercises/Python-tutorial.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/opendata-education/en_Python-and-Jupyter/blob/main/content/exercises/Python-tutorial.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/opendata-education/en_Python-and-Jupyter"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/opendata-education/en_Python-and-Jupyter/issues/new?title=Issue%20on%20page%20%2Fexercises/Python-tutorial.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/exercises/Python-tutorial.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-starting-point">
   1. The starting point
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#libraries">
   2. Libraries
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-structures-and-analysis">
   3. Data structures and analysis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basic-operations">
   4. Basic operations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#generating-random-values">
   5. Generating random values
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plotting-figures">
   6. Plotting figures
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#animations">
   7. Animations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#maps-and-heat-maps">
   8. Maps and heat maps
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#common-problems">
   9. Common problems
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-cell-got-stuck-and-it-won-t-draw-my-figure-or-run-my-code">
     A cell got stuck and it won’t draw my figure or run my code.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#an-error-message-says-name-is-not-defined-or-name-does-not-exist">
     An error message says ‘name is not defined’ or ‘name does not exist’.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#i-m-trying-to-save-something-in-a-variable-but-print-name-outputs-none">
     I’m trying to save something in a variable but print(name) outputs None.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#i-can-t-load-my-data-into-a-variable">
     I can’t load my data into a variable.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-does-my-dataset-have-nan-values">
     Why does my dataset have ‘NaN’-values?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#i-combined-pieces-of-data-into-a-variable-but-i-can-t-use-it">
     I combined pieces of data into a variable, but I can’t use it.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-doesn-t-my-code-work-although-i-know-it-s-written-correctly">
     Why doesn’t my code work although I know it’s written correctly?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-dates-in-the-data-mess-up-the-program-how-do-i-fix-this">
     The dates in the data mess up the program. How do I fix this?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#i-copied-the-data-into-a-new-variable-after-i-have-processed-it-i-see-that-the-values-of-the-original-variable-have-changed">
     I copied the data into a new variable. After I have processed it, I see that the values of the original variable have changed.
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Using Python on Jupyter</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-starting-point">
   1. The starting point
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#libraries">
   2. Libraries
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-structures-and-analysis">
   3. Data structures and analysis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basic-operations">
   4. Basic operations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#generating-random-values">
   5. Generating random values
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plotting-figures">
   6. Plotting figures
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#animations">
   7. Animations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#maps-and-heat-maps">
   8. Maps and heat maps
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#common-problems">
   9. Common problems
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-cell-got-stuck-and-it-won-t-draw-my-figure-or-run-my-code">
     A cell got stuck and it won’t draw my figure or run my code.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#an-error-message-says-name-is-not-defined-or-name-does-not-exist">
     An error message says ‘name is not defined’ or ‘name does not exist’.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#i-m-trying-to-save-something-in-a-variable-but-print-name-outputs-none">
     I’m trying to save something in a variable but print(name) outputs None.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#i-can-t-load-my-data-into-a-variable">
     I can’t load my data into a variable.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-does-my-dataset-have-nan-values">
     Why does my dataset have ‘NaN’-values?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#i-combined-pieces-of-data-into-a-variable-but-i-can-t-use-it">
     I combined pieces of data into a variable, but I can’t use it.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-doesn-t-my-code-work-although-i-know-it-s-written-correctly">
     Why doesn’t my code work although I know it’s written correctly?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-dates-in-the-data-mess-up-the-program-how-do-i-fix-this">
     The dates in the data mess up the program. How do I fix this?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#i-copied-the-data-into-a-new-variable-after-i-have-processed-it-i-see-that-the-values-of-the-original-variable-have-changed">
     I copied the data into a new variable. After I have processed it, I see that the values of the original variable have changed.
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="using-python-on-jupyter">
<h1>Using Python on Jupyter<a class="headerlink" href="#using-python-on-jupyter" title="Permalink to this headline">#</a></h1>
<p>This notebook has information about Python and different functions that could be useful for getting started. We have also included some examples about how the functions could be used.</p>
<p>How to use this document: run the cell that imports the needed libraries at the <strong>part 2</strong> and then move to the part you’re looking for. Because of this, different functions are defined multiple times in this document in order to mitigate the need to scroll up and down in the notebook.</p>
<p>If you don’t remember how some features work in these notebooks, press the <strong>h</strong>-button when you haven’t chosen any cells, and you’ll see a list of the shortcuts of Jupyter.</p>
<ol class="simple">
<li><p><a class="reference external" href="#start">The starting point</a></p></li>
<li><p><a class="reference external" href="#libraries">Libraries</a></p></li>
<li><p><a class="reference external" href="#structures">Data structures and analysis</a></p></li>
<li><p><a class="reference external" href="#operations">Basic operations</a></p></li>
<li><p><a class="reference external" href="#random">Generating random values</a></p></li>
<li><p><a class="reference external" href="#plotting">Plotting figures</a></p></li>
<li><p><a class="reference external" href="#animations">Animations</a></p></li>
<li><p><a class="reference external" href="#maps">Maps and heat maps</a></p></li>
<li><p><a class="reference external" href="#problems">Common problems</a></p></li>
</ol>
<p><a id="start"></a></p>
<section id="the-starting-point">
<h2>1. The starting point<a class="headerlink" href="#the-starting-point" title="Permalink to this headline">#</a></h2>
<p>In programming, you can save different values to <strong>variables</strong>, which can then be used or changed later. Different variable types are for example the integer (int), floating point number (float), and a string of characters (string). In Python defining new variables is easy since the type of the variable doesn’t have to be defined.</p>
<p>Sometimes the core that runs the code, <strong>kernel</strong>, has a malfunction. This happens from time to time. When it happens, you can click ‘Kernel’ and ‘Restart &amp; Clear Output’, when the processes and outputs are wiped from the memory. However, doing this doesn’t change the code or text, so it doesn’t fix bugs.</p>
<p><a id="libraries"></a></p>
</section>
<section id="libraries">
<h2>2. Libraries<a class="headerlink" href="#libraries" title="Permalink to this headline">#</a></h2>
<p>Python is a programming language suitable for scientific computing. One of its core principles is the use of different function libraries. These libraries are imported using the <strong>import</strong>-command.</p>
<p>When you take a look at the materials provided in the Open Data project, you’ll notice that every GitHub folder has a text file “requirements.txt” that enables for example <span class="xref myst">MyBinder</span> to build a workspace for Jupyter. From the file you can see that the most important libraries we’re going to use are:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#The most essential libraries:</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>   <span class="c1">#contains tools for data analysis</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>   <span class="c1">#contains tools for numerical analysis</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>  <span class="c1">#contains tools for plotting figures</span>

<span class="c1">#Other useful libraries:</span>

<span class="kn">import</span> <span class="nn">random</span> <span class="k">as</span> <span class="nn">rand</span>   <span class="c1">#contains functions for generating pseudo-random numbers</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>    <span class="c1">#contains scientific computing and statistics sisältää tieteellistä laskentaa ja tilastolaskentaa</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">norm</span>    <span class="c1">#tools for analyzing normal distribution</span>
<span class="kn">import</span> <span class="nn">matplotlib.mlab</span> <span class="k">as</span> <span class="nn">mlab</span>  <span class="c1">#advanced tools for plotting figures</span>
</pre></div>
</div>
</div>
</div>
<p>Remember to run the cell above if you want the examples in this notebook to work. The above could also be written without <strong>as</strong>-command, which renames the packages, but it enables us to use short names for the libraries, which becomes handy when we use them a lot. If you want to read more about libraries, click on ‘Help’ at the top of the page and you’ll find links for more precise documentation and formatting instructions.</p>
<p>There are many more libraries in Python and you can search for them when you need them. There are thousands of useful examples and materials on the internet, thanks to Python’s large user base. <a class="reference external" href="https://stackexchange.com/">StackExchange</a> and <a class="reference external" href="https://stackoverflow.com/">StackOverFlow</a> are great places for searching for answers to your questions.</p>
<p><a id="structures"></a></p>
</section>
<section id="data-structures-and-analysis">
<h2>3. Data structures and analysis<a class="headerlink" href="#data-structures-and-analysis" title="Permalink to this headline">#</a></h2>
<p><strong>In short:</strong></p>
<p>Reading a csv-file <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="n">formatting</span> <span class="n">arguments</span><span class="p">)</span>
</pre></div>
</div>
<p>Reading a table <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="n">formatting</span> <span class="n">arguments</span><span class="p">)</span>
</pre></div>
</div>
<p>Getting the first <em>n</em> rows of a table <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  
</pre></div>
</div>
<p>Length <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>  
</pre></div>
</div>
<p>Shape <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="o">.</span><span class="n">shape</span> 
</pre></div>
</div>
<p>Column <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="o">.</span><span class="n">column</span> 
<span class="n">name</span><span class="p">[</span><span class="s1">&#39;column&#39;</span><span class="p">]</span> 
</pre></div>
</div>
<p>Specifying an interval <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">[(</span><span class="n">name</span><span class="o">.</span><span class="n">column</span> <span class="o">&gt;=</span> <span class="n">lower_limit</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">column</span> <span class="o">&lt;=</span> <span class="n">upper_limit</span><span class="p">)]</span>  
</pre></div>
</div>
<p>Searching for text <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">[</span><span class="s1">&#39;column&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">)</span>  
</pre></div>
</div>
<p>Add a column <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">column</span> <span class="o">=</span> <span class="n">data</span><span class="p">)</span> 
</pre></div>
</div>
<p>Remove columns <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;column1&#39;</span><span class="p">,</span><span class="s1">&#39;column2&#39;</span><span class="o">...</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>In our exercises the data is often in .csv-form (comma separated values). Data in this form is very easy to read as a table with the use of <em>pandas</em> library. <em>Pandas</em> transforms the csv-file into a two-dimensional DataFrame. You can find more information about it <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html">here</a>, where you can also find more information about the different ways you can analyze and process the data.</p>
<p>The easiest ways to read the data are using the functions <strong>pd.read_csv</strong> and <strong>pd.read_table</strong>. If data is nice (separated by comma, headers included, etc.), other operations are usually not needed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Read a dataset of particle data into a variable and give it a name:</span>

<span class="n">doublemuons</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;http://opendata.cern.ch/record/545/files/Dimuon_DoubleMu.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>As you can see, you can read a table straight from a URL-address to a variable. If you have a file in a folder, you can read it using a file path: <strong>‘../folder/file.csv’</strong>.</p>
<p>If the data is in some other text form, you can try the more common <strong>read_table</strong> -command, that understands other tabular texts as well. The most common problem is that the text is separated with something else than comma, such as a tabulator or a semicolon. In that case you can add the argument <strong>sep = ‘x’</strong>, where x is the character used as a separator. Another common problem is that the headers of the columns aren’t in the first row. In this case we can use the argument <strong>header = n</strong>, where n is the number of the header row. Note: the numbers start at zero unless otherwise spesified.</p>
<p>More information about the possible arguments <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html">here</a>.</p>
<p>Below we have an example of a dataset that doesn’t have a header row. The set contains observations of the Sun from the year 1992 forward. More information about the meaning of each column can be found <a class="reference external" href="http://sidc.oma.be/silso/infosndhem">here</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Read the dataset and name it:</span>

<span class="n">sun</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s1">&#39;http://sidc.oma.be/silso/INFO/sndhemcsv.php&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s2">&quot;ISO-8859-1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>For clarity, let’s see how our data looks like. For this the <strong>name.head(n)</strong>-command works well. It shows the n first rows of the data. By default n = 5, if you have empty parentheses.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span>
<span class="n">doublemuons</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Run</th>
      <th>Event</th>
      <th>type1</th>
      <th>E1</th>
      <th>px1</th>
      <th>py1</th>
      <th>pz1</th>
      <th>pt1</th>
      <th>eta1</th>
      <th>phi1</th>
      <th>Q1</th>
      <th>type2</th>
      <th>E2</th>
      <th>px2</th>
      <th>py2</th>
      <th>pz2</th>
      <th>pt2</th>
      <th>eta2</th>
      <th>phi2</th>
      <th>Q2</th>
      <th>M</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>165617</td>
      <td>74601703</td>
      <td>G</td>
      <td>9.6987</td>
      <td>-9.5104</td>
      <td>0.3662</td>
      <td>1.8633</td>
      <td>9.5175</td>
      <td>0.1945</td>
      <td>3.1031</td>
      <td>-1</td>
      <td>G</td>
      <td>9.7633</td>
      <td>7.3277</td>
      <td>-1.1524</td>
      <td>6.3473</td>
      <td>7.4178</td>
      <td>0.7756</td>
      <td>-0.1560</td>
      <td>1</td>
      <td>17.4922</td>
    </tr>
    <tr>
      <th>1</th>
      <td>165617</td>
      <td>75100943</td>
      <td>G</td>
      <td>6.2039</td>
      <td>-4.2666</td>
      <td>0.4565</td>
      <td>-4.4793</td>
      <td>4.2910</td>
      <td>-0.9121</td>
      <td>3.0350</td>
      <td>-1</td>
      <td>G</td>
      <td>9.6690</td>
      <td>7.2740</td>
      <td>-2.8211</td>
      <td>-5.7104</td>
      <td>7.8019</td>
      <td>-0.6786</td>
      <td>-0.3700</td>
      <td>1</td>
      <td>11.5534</td>
    </tr>
    <tr>
      <th>2</th>
      <td>165617</td>
      <td>75587682</td>
      <td>G</td>
      <td>19.2892</td>
      <td>-4.2121</td>
      <td>-0.6516</td>
      <td>18.8121</td>
      <td>4.2622</td>
      <td>2.1905</td>
      <td>-2.9881</td>
      <td>-1</td>
      <td>G</td>
      <td>9.8244</td>
      <td>4.3439</td>
      <td>-0.4735</td>
      <td>8.7985</td>
      <td>4.3697</td>
      <td>1.4497</td>
      <td>-0.1086</td>
      <td>1</td>
      <td>9.1636</td>
    </tr>
    <tr>
      <th>3</th>
      <td>165617</td>
      <td>75660978</td>
      <td>G</td>
      <td>7.0427</td>
      <td>-6.3268</td>
      <td>-0.2685</td>
      <td>3.0802</td>
      <td>6.3325</td>
      <td>0.4690</td>
      <td>-3.0992</td>
      <td>-1</td>
      <td>G</td>
      <td>5.5857</td>
      <td>4.4748</td>
      <td>0.8489</td>
      <td>-3.2319</td>
      <td>4.5546</td>
      <td>-0.6605</td>
      <td>0.1875</td>
      <td>1</td>
      <td>12.4774</td>
    </tr>
    <tr>
      <th>4</th>
      <td>165617</td>
      <td>75947690</td>
      <td>G</td>
      <td>7.2751</td>
      <td>0.1030</td>
      <td>-5.5331</td>
      <td>-4.7212</td>
      <td>5.5340</td>
      <td>-0.7736</td>
      <td>-1.5522</td>
      <td>-1</td>
      <td>G</td>
      <td>7.3181</td>
      <td>-0.3988</td>
      <td>6.9408</td>
      <td>2.2825</td>
      <td>6.9523</td>
      <td>0.3227</td>
      <td>1.6282</td>
      <td>1</td>
      <td>14.3159</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sun</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>1992</th>
      <th>01</th>
      <th>01.1</th>
      <th>1992.001</th>
      <th>186</th>
      <th>0</th>
      <th>186</th>
      <th>14.3</th>
      <th>1.0</th>
      <th>14.3</th>
      <th>19</th>
      <th>-1</th>
      <th>-1.1</th>
      <th>1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1992</td>
      <td>1</td>
      <td>2</td>
      <td>1992.004</td>
      <td>190</td>
      <td>18</td>
      <td>172</td>
      <td>8.2</td>
      <td>2.6</td>
      <td>7.8</td>
      <td>21</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1992</td>
      <td>1</td>
      <td>3</td>
      <td>1992.007</td>
      <td>234</td>
      <td>26</td>
      <td>208</td>
      <td>18.3</td>
      <td>6.1</td>
      <td>17.2</td>
      <td>21</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1992</td>
      <td>1</td>
      <td>4</td>
      <td>1992.010</td>
      <td>243</td>
      <td>54</td>
      <td>189</td>
      <td>14.8</td>
      <td>7.0</td>
      <td>13.0</td>
      <td>20</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1992</td>
      <td>1</td>
      <td>5</td>
      <td>1992.012</td>
      <td>242</td>
      <td>58</td>
      <td>184</td>
      <td>13.8</td>
      <td>6.8</td>
      <td>12.0</td>
      <td>18</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1992</td>
      <td>1</td>
      <td>6</td>
      <td>1992.015</td>
      <td>245</td>
      <td>79</td>
      <td>166</td>
      <td>18.7</td>
      <td>10.6</td>
      <td>15.4</td>
      <td>14</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>From the above we can see that the first real row of the <strong>sun</strong>-variable is used as a header. This is unfortunate because 1) now the headers are misleading and 2) We won’t be able to use the data from the first row in our analysis. Let’s solve the problem by using <strong>header = -1</strong>, a row that doesn’t exist, as the header argument.</p>
<p>Ylläolevista nähdään, että <strong>aurinko</strong>-muuttujan ensimmäinen oikea rivi on kaapattu otsikoiksi, mikä on sikäli ikävää että 1) nyt otsikot ovat hämääviä ja 2) meiltä jää yhden rivin verran dataa käsittelemättä jos haluamme vaikkapa kuvaajan taulukon jostain sarakkeesta. Ratkaistaan asia laittamalla dataa ladattaessa otsikointiargumentiksi <strong>header = -1</strong>, eli rivi jota ei ole olemassa, jolloin kone tuottaa siihen järjestyslukurivin.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sun</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s1">&#39;http://sidc.oma.be/silso/INFO/sndhemcsv.php&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s2">&quot;ISO-8859-1&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">sun</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1992</td>
      <td>1</td>
      <td>1</td>
      <td>1992.001</td>
      <td>186</td>
      <td>0</td>
      <td>186</td>
      <td>14.3</td>
      <td>1.0</td>
      <td>14.3</td>
      <td>19</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1992</td>
      <td>1</td>
      <td>2</td>
      <td>1992.004</td>
      <td>190</td>
      <td>18</td>
      <td>172</td>
      <td>8.2</td>
      <td>2.6</td>
      <td>7.8</td>
      <td>21</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1992</td>
      <td>1</td>
      <td>3</td>
      <td>1992.007</td>
      <td>234</td>
      <td>26</td>
      <td>208</td>
      <td>18.3</td>
      <td>6.1</td>
      <td>17.2</td>
      <td>21</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1992</td>
      <td>1</td>
      <td>4</td>
      <td>1992.010</td>
      <td>243</td>
      <td>54</td>
      <td>189</td>
      <td>14.8</td>
      <td>7.0</td>
      <td>13.0</td>
      <td>20</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1992</td>
      <td>1</td>
      <td>5</td>
      <td>1992.012</td>
      <td>242</td>
      <td>58</td>
      <td>184</td>
      <td>13.8</td>
      <td>6.8</td>
      <td>12.0</td>
      <td>18</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If we want to change the headers, we can of course name the columns using the argument <strong>names = [‘name1’,’name2’,’name3’]</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sun</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s1">&#39;http://sidc.oma.be/silso/INFO/sndhemcsv.php&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s2">&quot;ISO-8859-1&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span><span class="s1">&#39;Day&#39;</span><span class="p">,</span><span class="s1">&#39;Fraction&#39;</span><span class="p">,</span><span class="s1">&#39;$P_</span><span class="si">{tot}</span><span class="s1">$&#39;</span><span class="p">,</span><span class="s1">&#39;$P_</span><span class="si">{poh}</span><span class="s1">$&#39;</span><span class="p">,</span><span class="s1">&#39;$P_</span><span class="si">{et}</span><span class="s1">$&#39;</span><span class="p">,</span><span class="s1">&#39;$\sigma_</span><span class="si">{tot}</span><span class="s1">$&#39;</span><span class="p">,</span><span class="s1">&#39;$\sigma_</span><span class="si">{poh}</span><span class="s1">$&#39;</span><span class="p">,</span>
         <span class="s1">&#39;$\sigma_</span><span class="si">{et}</span><span class="s1">$&#39;</span><span class="p">,</span><span class="s1">&#39;$N_</span><span class="si">{tot}</span><span class="s1">$&#39;</span><span class="p">,</span><span class="s1">&#39;$N_</span><span class="si">{poh}</span><span class="s1">$&#39;</span><span class="p">,</span><span class="s1">&#39;$N_</span><span class="si">{et}</span><span class="s1">$&#39;</span><span class="p">,</span><span class="s1">&#39;Prov&#39;</span><span class="p">])</span>
<span class="n">sun</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Month</th>
      <th>Day</th>
      <th>Fraction</th>
      <th>$P_{tot}$</th>
      <th>$P_{poh}$</th>
      <th>$P_{et}$</th>
      <th>$\sigma_{tot}$</th>
      <th>$\sigma_{poh}$</th>
      <th>$\sigma_{et}$</th>
      <th>$N_{tot}$</th>
      <th>$N_{poh}$</th>
      <th>$N_{et}$</th>
      <th>Prov</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1992</td>
      <td>1</td>
      <td>1</td>
      <td>1992.001</td>
      <td>186</td>
      <td>0</td>
      <td>186</td>
      <td>14.3</td>
      <td>1.0</td>
      <td>14.3</td>
      <td>19</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1992</td>
      <td>1</td>
      <td>2</td>
      <td>1992.004</td>
      <td>190</td>
      <td>18</td>
      <td>172</td>
      <td>8.2</td>
      <td>2.6</td>
      <td>7.8</td>
      <td>21</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1992</td>
      <td>1</td>
      <td>3</td>
      <td>1992.007</td>
      <td>234</td>
      <td>26</td>
      <td>208</td>
      <td>18.3</td>
      <td>6.1</td>
      <td>17.2</td>
      <td>21</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1992</td>
      <td>1</td>
      <td>4</td>
      <td>1992.010</td>
      <td>243</td>
      <td>54</td>
      <td>189</td>
      <td>14.8</td>
      <td>7.0</td>
      <td>13.0</td>
      <td>20</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1992</td>
      <td>1</td>
      <td>5</td>
      <td>1992.012</td>
      <td>242</td>
      <td>58</td>
      <td>184</td>
      <td>13.8</td>
      <td>6.8</td>
      <td>12.0</td>
      <td>18</td>
      <td>-1</td>
      <td>-1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Among the <strong>name.heads()</strong> command there are some other small commands that are useful when studying the shape of the data. <strong>len(name)</strong> tells us the amount of rows, while <strong>name.shape</strong> tells us the amount of rows and columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Usually the output of a code cell shows only the latest given function. We can output multiple values with the print()-command .</span>
<span class="c1">#You can try out what happens if you remove the print()-command.</span>

<span class="nb">print</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sun</span><span class="p">))</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">sun</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>11170
(11170, 14)
</pre></div>
</div>
</div>
</div>
<p>Now that data has been imported in a sufficient form, we can start editing it for our own purposes. Usually we are interested in a specific variable within the data, so we must be able to choose specific columns from the original data and choose only the rows in which a certain variable’s values is within some bounds.</p>
<p>A column can be chosen by writing <strong>name.column</strong> or <strong>name[‘column’]</strong>. Square brackets are necessary in cases where the name of the column starts with a number, which the machine may interpret as a an ordinal number. If you want to make your life easier and you don’t care about the other columns, it is useful to save the column into a variable with *<em>newName = name.column</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save the column that contains the invariant masses in our muon data. The column is named as &#39;M&#39;.</span>

<span class="n">iMasses</span> <span class="o">=</span> <span class="n">doublemuons</span><span class="o">.</span><span class="n">M</span>
<span class="n">iMasses</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    17.4922
1    11.5534
2     9.1636
3    12.4774
4    14.3159
Name: M, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Selecting rows happens similarly by creating a new variable that contains the elements in the original data that meet the given criteria. For example, choosing an interval would be</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">newName</span> <span class="o">=</span> <span class="n">name</span><span class="p">[(</span><span class="n">name</span><span class="o">.</span><span class="n">column</span> <span class="o">&gt;=</span> <span class="n">lower_limit</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">column</span> <span class="o">&lt;=</span> <span class="n">upper_limit</span><span class="p">)]</span>
</pre></div>
</div>
<p>The condition can be any other logical element, such as a certain number or a piece of text in non-numerical data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s choose the rows in the particle data where the energy of both particles is more than or equal to 30 GeV.</span>
<span class="n">over30</span> <span class="o">=</span> <span class="n">doublemuons</span><span class="p">[(</span><span class="n">doublemuons</span><span class="o">.</span><span class="n">E1</span> <span class="o">&gt;=</span> <span class="mi">30</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">doublemuons</span><span class="o">.</span><span class="n">E2</span> <span class="o">&gt;=</span> <span class="mi">30</span><span class="p">)]</span>
<span class="n">over30</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Run</th>
      <th>Event</th>
      <th>type1</th>
      <th>E1</th>
      <th>px1</th>
      <th>py1</th>
      <th>pz1</th>
      <th>pt1</th>
      <th>eta1</th>
      <th>phi1</th>
      <th>Q1</th>
      <th>type2</th>
      <th>E2</th>
      <th>px2</th>
      <th>py2</th>
      <th>pz2</th>
      <th>pt2</th>
      <th>eta2</th>
      <th>phi2</th>
      <th>Q2</th>
      <th>M</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>21</th>
      <td>165617</td>
      <td>74969122</td>
      <td>G</td>
      <td>59.9226</td>
      <td>-46.1516</td>
      <td>29.4115</td>
      <td>-24.4070</td>
      <td>54.7266</td>
      <td>-0.4324</td>
      <td>2.5742</td>
      <td>1</td>
      <td>G</td>
      <td>52.4465</td>
      <td>30.1097</td>
      <td>-16.3989</td>
      <td>-39.6876</td>
      <td>34.2859</td>
      <td>-0.9885</td>
      <td>-0.4987</td>
      <td>-1</td>
      <td>89.9557</td>
    </tr>
    <tr>
      <th>36</th>
      <td>165617</td>
      <td>75138253</td>
      <td>G</td>
      <td>97.1011</td>
      <td>-23.6144</td>
      <td>6.6660</td>
      <td>-93.9497</td>
      <td>24.5372</td>
      <td>-2.0524</td>
      <td>2.8665</td>
      <td>-1</td>
      <td>G</td>
      <td>30.5992</td>
      <td>-11.6134</td>
      <td>-25.9848</td>
      <td>11.2347</td>
      <td>28.4619</td>
      <td>0.3851</td>
      <td>-1.9911</td>
      <td>1</td>
      <td>88.6081</td>
    </tr>
    <tr>
      <th>46</th>
      <td>165617</td>
      <td>75887636</td>
      <td>G</td>
      <td>152.9720</td>
      <td>7.4657</td>
      <td>-30.7098</td>
      <td>-149.6710</td>
      <td>31.6042</td>
      <td>-2.2593</td>
      <td>-1.3323</td>
      <td>-1</td>
      <td>G</td>
      <td>33.5835</td>
      <td>-9.2878</td>
      <td>28.7457</td>
      <td>-14.6719</td>
      <td>30.2089</td>
      <td>-0.4684</td>
      <td>1.8833</td>
      <td>1</td>
      <td>88.2438</td>
    </tr>
    <tr>
      <th>78</th>
      <td>165617</td>
      <td>75833588</td>
      <td>G</td>
      <td>181.8770</td>
      <td>44.1427</td>
      <td>-14.9498</td>
      <td>175.8040</td>
      <td>46.6055</td>
      <td>2.0379</td>
      <td>-0.3265</td>
      <td>1</td>
      <td>G</td>
      <td>170.0210</td>
      <td>-34.6301</td>
      <td>12.3248</td>
      <td>166.0000</td>
      <td>36.7579</td>
      <td>2.2128</td>
      <td>2.7997</td>
      <td>-1</td>
      <td>83.0943</td>
    </tr>
    <tr>
      <th>110</th>
      <td>165617</td>
      <td>75779415</td>
      <td>G</td>
      <td>50.2440</td>
      <td>37.8072</td>
      <td>-12.2044</td>
      <td>-30.7590</td>
      <td>39.7283</td>
      <td>-0.7124</td>
      <td>-0.3122</td>
      <td>1</td>
      <td>G</td>
      <td>49.2396</td>
      <td>-47.6064</td>
      <td>8.2338</td>
      <td>-9.5061</td>
      <td>48.3132</td>
      <td>-0.1955</td>
      <td>2.9703</td>
      <td>-1</td>
      <td>90.3544</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">over30</span><span class="p">))</span>
<span class="nb">print</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">doublemuons</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6516
100000
</pre></div>
</div>
</div>
</div>
<p>If we want multiple columns without choosing specific rows, we can write</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">newVariable</span> <span class="o">=</span> <span class="n">oldVariable</span><span class="p">[[</span><span class="s1">&#39;column1&#39;</span><span class="p">,</span> <span class="s1">&#39;column2&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span>
</pre></div>
</div>
<p>If we want to search for a piece of text, we can use te <strong>name.loc</strong>-function in the following way:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">newVariable</span> <span class="o">=</span> <span class="n">oldVariable</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">oldVariable</span><span class="p">[</span><span class="s1">&#39;column&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;piece_of_text&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>In that case we would have to know what we are exactly looking for. If you want to find some instances that contain a piece of text, we can use the <strong>contains</strong>-function. The command</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">newName</span><span class="o">=</span> <span class="n">oldName</span><span class="p">[</span><span class="n">oldName</span><span class="p">[</span><span class="s1">&#39;column&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;piece_of_text&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>creates a new variable that has the rows that contain the piece of text we are looking for. By default, the function cares about the letter size, but we can change this by writing</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">newName</span><span class="o">=</span> <span class="n">oldName</span><span class="p">[</span><span class="n">oldName</span><span class="p">[</span><span class="s1">&#39;column&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;piece_of_text&#39;</span><span class="p">,</span> <span class="n">case</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)]</span>
</pre></div>
</div>
<p>Please note that <strong>str.contains()</strong> in itself is a logical operation that returns true or false from a given question. Negation works as well, such as removing all the joint-stock companies from a list of Finnish alcohol manufacturers (these include ‘Oy’ or ‘Oyj’ in their name).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">drinks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;http://avoindata.valvira.fi/alkoholi/alkoholilupa_valmistus.csv&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s2">&quot;ISO-8859-1&quot;</span><span class="p">,</span> <span class="n">na_filter</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">drinks</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Y-Tunnus</th>
      <th>Nimi</th>
      <th>Luvan alkupvm</th>
      <th>Olut</th>
      <th>Viini</th>
      <th>Hedelmäviini</th>
      <th>Tislatut alkoholijuomat</th>
      <th>Väkiviina</th>
      <th>Käsityöläisoluen vähittäismyyntilupa</th>
      <th>Tilaviinin vähittäismyyntilupa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0107011-5</td>
      <td>Berner Oy</td>
      <td>03.02.2014</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>X</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>0170318-9</td>
      <td>Olvi Oyj</td>
      <td>17.02.1995</td>
      <td>X</td>
      <td></td>
      <td>X</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>0171079-2</td>
      <td>Alahovin Viinitila Oy</td>
      <td>25.02.1995</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td>X</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0171110-3</td>
      <td>Oy Gust. Ranin Lignell &amp; Piispanen</td>
      <td>20.01.1995</td>
      <td></td>
      <td></td>
      <td>X</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>0193088-3</td>
      <td>Kakslauttanen Arctic Resort Oy</td>
      <td>25.02.2020</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">specificManufacturer</span> <span class="o">=</span> <span class="n">drinks</span><span class="p">[</span><span class="n">drinks</span><span class="p">[</span><span class="s1">&#39;Nimi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Oy&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span><span class="p">]</span>
<span class="nb">print</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">drinks</span><span class="p">))</span>
<span class="nb">print</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">specificManufacturer</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>204
35
</pre></div>
</div>
</div>
</div>
<p>If you want to add or remove columns from the data, you can use the functions <strong>name = name.assign(column = data)</strong> and <strong>name.drop([‘column1’,’column2’…], axis = 1)</strong>. In the drop-function setting the <strong>axis</strong> parameter to 1 tells the function to choose the column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Removing a column with the drop-function.</span>

<span class="n">drinks</span> <span class="o">=</span> <span class="n">drinks</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Nimi&#39;</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">drinks</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Y-Tunnus</th>
      <th>Luvan alkupvm</th>
      <th>Olut</th>
      <th>Viini</th>
      <th>Hedelmäviini</th>
      <th>Tislatut alkoholijuomat</th>
      <th>Väkiviina</th>
      <th>Käsityöläisoluen vähittäismyyntilupa</th>
      <th>Tilaviinin vähittäismyyntilupa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0107011-5</td>
      <td>03.02.2014</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>X</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>0170318-9</td>
      <td>17.02.1995</td>
      <td>X</td>
      <td></td>
      <td>X</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>0171079-2</td>
      <td>25.02.1995</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td>X</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0171110-3</td>
      <td>20.01.1995</td>
      <td></td>
      <td></td>
      <td>X</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>0193088-3</td>
      <td>25.02.2020</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Adding a column with the assign-method.</span>
<span class="c1"># Let&#39;s add a column R that contains numbers.</span>
<span class="c1"># The column can contain numbers, text, etc. Just make sure that the column has the right size.</span>

<span class="n">numbers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">drinks</span><span class="p">))</span>
 
<span class="n">drinks</span> <span class="o">=</span> <span class="n">drinks</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">R</span> <span class="o">=</span> <span class="n">numbers</span><span class="p">)</span>
<span class="n">drinks</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Y-Tunnus</th>
      <th>Luvan alkupvm</th>
      <th>Olut</th>
      <th>Viini</th>
      <th>Hedelmäviini</th>
      <th>Tislatut alkoholijuomat</th>
      <th>Väkiviina</th>
      <th>Käsityöläisoluen vähittäismyyntilupa</th>
      <th>Tilaviinin vähittäismyyntilupa</th>
      <th>R</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0107011-5</td>
      <td>03.02.2014</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>X</td>
      <td></td>
      <td></td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0170318-9</td>
      <td>17.02.1995</td>
      <td>X</td>
      <td></td>
      <td>X</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td></td>
      <td>0.492611</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0171079-2</td>
      <td>25.02.1995</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td>X</td>
      <td>0.985222</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0171110-3</td>
      <td>20.01.1995</td>
      <td></td>
      <td></td>
      <td>X</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1.477833</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0193088-3</td>
      <td>25.02.2020</td>
      <td>X</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1.970443</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><a id="operations"></a></p>
</section>
<section id="basic-operations">
<h2>4. Basic operations<a class="headerlink" href="#basic-operations" title="Permalink to this headline">#</a></h2>
<p><strong>In short:</strong></p>
<p>Absolute value <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  
</pre></div>
</div>
<p>Addition <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> 
</pre></div>
</div>
<p>Subtraction <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span>  
</pre></div>
</div>
<p>Division <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">/</span><span class="n">y</span>  
</pre></div>
</div>
<p>Multiplication <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">*</span><span class="n">y</span>  
</pre></div>
</div>
<p>Power <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">**</span><span class="n">y</span>  
</pre></div>
</div>
<p>Maximum value <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">max</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  
</pre></div>
</div>
<p>Minimum value <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">min</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  
</pre></div>
</div>
<p>Defining a custom function <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="nb">input</span><span class="p">):</span>
    <span class="n">operations</span>
    
</pre></div>
</div>
<p>Square root <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>There is nothing extraordinary with the basic operations. If you want the program to print multiple things at once, use the <strong>print()</strong>-function. Text and numbers can also be combined with the help of the <strong>repr(numbers)</strong>-function. It returns a printable version of its input. Python has a large number of built-in functions, which you can find from this <a class="reference external" href="https://docs.python.org/3/library/functions.html">list</a>. Additionally, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html">here</a> is some information about the built-in types of Python.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># You can modify the content of the &#39;number&#39;-variable to try out different operations.</span>

<span class="n">number</span> <span class="o">=</span> <span class="mi">14</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="mi">5</span><span class="o">/</span><span class="mi">2</span>
<span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;The result: &#39;</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">text</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">number</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The result: 30.5
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># max() returns the largest item of an iterable.</span>

<span class="n">someNumbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">67</span><span class="p">,</span><span class="mi">578</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="o">-</span><span class="mi">34</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The largest numbers is &#39;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">someNumbers</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The largest numbers is 578
</pre></div>
</div>
</div>
</div>
<p>More interestingly, you can build your own functions in Python. You <strong>define</strong> the name of the function and its effect by writing</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">functionName</span><span class="p">(</span><span class="nb">input</span><span class="p">):</span>  
    <span class="n">description</span> <span class="n">indented</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s make a function that halves the number it receives as an input.</span>

<span class="k">def</span> <span class="nf">halve</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    
<span class="n">halve</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s make a function that asks users for integers and calculates the sum of them.</span>

<span class="k">def</span> <span class="nf">sum_of_inputs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="n">sum_of_two</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
    <span class="n">sentence</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> + </span><span class="si">{}</span><span class="s1"> equals </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">sum_of_two</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">freeChoice</span><span class="p">():</span>
    <span class="n">a</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Input an integer: &quot;</span><span class="p">))</span>
    <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Input another integer: &quot;</span><span class="p">))</span>
    <span class="n">sum_of_inputs</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

<span class="n">freeChoice</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="nn">Input In [19],</span> in <span class="ni">&lt;cell line: 13&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>     <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Input another integer: &quot;</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span>     <span class="n">sum_of_inputs</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">13</span> <span class="n">freeChoice</span><span class="p">()</span>

<span class="nn">Input In [19],</span> in <span class="ni">freeChoice</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="k">def</span> <span class="nf">freeChoice</span><span class="p">():</span>
<span class="ne">----&gt; </span><span class="mi">9</span>     <span class="n">a</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Input an integer: &quot;</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>     <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Input another integer: &quot;</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span>     <span class="n">sum_of_inputs</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/ipykernel/kernelbase.py:1174,</span> in <span class="ni">Kernel.raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">   </span><span class="mi">1167</span> <span class="sd">&quot;&quot;&quot;Forward raw_input to frontends</span>
<span class="g g-Whitespace">   </span><span class="mi">1168</span><span class="sd"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1169</span><span class="sd"> Raises</span>
<span class="g g-Whitespace">   </span><span class="mi">1170</span><span class="sd"> ------</span>
<span class="g g-Whitespace">   </span><span class="mi">1171</span><span class="sd"> StdinNotImplementedError if active frontend doesn&#39;t support stdin.</span>
<span class="g g-Whitespace">   </span><span class="mi">1172</span><span class="sd"> &quot;&quot;&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1173</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1174</span>     <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1175</span>         <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1176</span>     <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1177</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1178</span>     <span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1179</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_parent_ident</span><span class="p">[</span><span class="s2">&quot;shell&quot;</span><span class="p">],</span>
<span class="g g-Whitespace">   </span><span class="mi">1180</span>     <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;shell&quot;</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1181</span>     <span class="n">password</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1182</span> <span class="p">)</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s make a function that returns a given list of radians as degrees of arc. </span>
<span class="c1"># A while-loop goes through the list and performs an operation on each of the elements.</span>

<span class="k">def</span> <span class="nf">radsToDegrees</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="n">i</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
        <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mi">360</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
        <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">a</span><span class="p">;</span>

<span class="n">radians</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">radsToDegrees</span><span class="p">(</span><span class="n">radians</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">radians</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[286.4788975654116, 114.59155902616465, 229.1831180523293, 114.59155902616465, 57.29577951308232, 171.88733853924697]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Or the same with a for-loop:</span>

<span class="k">def</span> <span class="nf">radsToDegrees2</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
        <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mi">360</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">a</span><span class="p">;</span>
    
<span class="n">rad</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="n">radsToDegrees2</span><span class="p">(</span><span class="n">rad</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rad</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[57.29577951308232, 114.59155902616465, 171.88733853924697, 286.4788975654116, 343.77467707849394]
</pre></div>
</div>
</div>
</div>
<p><a id="random"></a></p>
</section>
<section id="generating-random-values">
<h2>5. Generating random values<a class="headerlink" href="#generating-random-values" title="Permalink to this headline">#</a></h2>
<p><strong>In short:</strong></p>
<p>A random integer <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rand</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">lower_limit</span><span class="p">,</span><span class="n">upper_limit</span><span class="p">)</span>
</pre></div>
</div>
<p>A random integer between 0 and 1 <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rand</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>  
</pre></div>
</div>
<p>A random collection from a list <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rand</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="n">count</span><span class="p">)</span>  
</pre></div>
</div>
<p>A random collection from a population <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rand</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">collection</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="n">count</span><span class="p">)</span>  
</pre></div>
</div>
<p>Normal distribution <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rand</span><span class="o">.</span><span class="n">normalvariate</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">standard_deviation</span><span class="p">)</span>  
</pre></div>
</div>
<p>Evenly spaced numbers <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">num</span> <span class="o">=</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">samples</span><span class="p">)</span>  
</pre></div>
</div>
<p>Evenly spaced numbers <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">stepsize</span><span class="p">)</span>
</pre></div>
</div>
<p>Sometimes it is useful to create simulations or random measurements for the analysis. While the development of advanced <a class="reference external" href="https://en.wikipedia.org/wiki/Monte_Carlo_method">Monte Carlo simulations</a> is beyond the objectives of this manual, we can take a look at some ways we can produce random numbers. However, it is important to remember that ordinary methods for creating randomness with computers are pseudorandom deterministic processes, and they shouln’t be used for high-secrecy and confidential purposes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a random integer within a wanted interval.</span>

<span class="n">lottery_ticket</span> <span class="o">=</span> <span class="n">rand</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;The winning ticket of the day is: &#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">text</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">lottery_ticket</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The winning ticket of the day is: 7
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a random floating point number between 0 and 1 multiplied by 5.</span>

<span class="n">number</span> <span class="o">=</span> <span class="n">rand</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.486902266233033
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Remove some arbitrary elements from a list, but make some choices more likely than others.</span>

<span class="n">nameForChildren</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;James&#39;</span><span class="p">,</span> <span class="s1">&#39;Anthony&#39;</span><span class="p">,</span> <span class="s1">&#39;Mary&#39;</span><span class="p">,</span> <span class="s1">&#39;Paul&#39;</span><span class="p">,</span> <span class="s1">&#39;Sara&#39;</span><span class="p">,</span><span class="s1">&#39;Linda&#39;</span><span class="p">]</span>
<span class="n">weightedProbs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>

<span class="c1"># Define how many names we want, k = wanted. Choices-function can take the same results multiple times.</span>

<span class="n">names</span><span class="o">=</span> <span class="n">rand</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="n">nameForChildren</span><span class="p">,</span> <span class="n">weights</span> <span class="o">=</span> <span class="n">weightedProbs</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Paul&#39;, &#39;Paul&#39;, &#39;James&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Now without duplicates.</span>

<span class="n">students</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;James&#39;</span><span class="p">,</span> <span class="s1">&#39;Anthony&#39;</span><span class="p">,</span> <span class="s1">&#39;Mary&#39;</span><span class="p">,</span> <span class="s1">&#39;Paul&#39;</span><span class="p">,</span> <span class="s1">&#39;Sara&#39;</span><span class="p">,</span><span class="s1">&#39;Linda&#39;</span><span class="p">]</span>
<span class="n">threeVolunteers</span> <span class="o">=</span> <span class="n">rand</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">threeVolunteers</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;James&#39;, &#39;Anthony&#39;, &#39;Paul&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A random number from a normal distribution (mean, standard deviation).</span>

<span class="n">number</span> <span class="o">=</span> <span class="n">rand</span><span class="o">.</span><span class="n">normalvariate</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.9243753598395763
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Let&#39;s create an evenly spaced list of numbers between 1 and 10 and randomize it a bit.</span>

<span class="n">listOfNumbers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">randomizer</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)):</span>
        <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">rand</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">b</span><span class="p">;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">randomizer</span><span class="p">(</span><span class="n">listOfNumbers</span><span class="p">)</span>
<span class="c1"># print(listOfNumbers)</span>
<span class="c1"># print(result)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="s1">&#39;g*&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_54_0.png" src="../_images/Python-tutorial_54_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Another way to produce an evenly spaced array of numbers [a,b[ with the command arange(a,b,c), where c is the stepsize.</span>
<span class="c1"># The function may not always work properly if c is not an integer. Note that b is excluded from the array.</span>

<span class="c1"># Toinen tapa tuottaa tasaisesti jaettu lukujoukko [a,b[ komennolla arange(a,b,c) missä c on askeleen koko.</span>
<span class="c1"># Toiminto voi joskus häröillä jos c ei ole kokonaisluku. Huomaa, että b ei kuulu joukkoon.</span>

<span class="n">numbers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1 2 3 4 5 6 7 8 9]
</pre></div>
</div>
</div>
</div>
<p><a id="plotting"></a></p>
</section>
<section id="plotting-figures">
<h2>6. Plotting figures<a class="headerlink" href="#plotting-figures" title="Permalink to this headline">#</a></h2>
<p><strong>In short:</strong></p>
<p>Basic plot <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;style and colour&#39;</span><span class="p">,</span> <span class="n">properties</span><span class="p">)</span>
</pre></div>
</div>
<p>Scatterplot <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">data</span><span class="p">,</span> <span class="n">y</span><span class="o">-</span><span class="n">data</span><span class="p">,</span> <span class="n">marker</span> <span class="o">=</span> <span class="s1">&#39;marker style&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">properties</span><span class="p">)</span>
</pre></div>
</div>
<p>Histogram <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="nb">range</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">),</span> <span class="n">properties</span><span class="p">)</span>
</pre></div>
</div>
<p>Legend <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span>
</pre></div>
</div>
<p>Display all open figures <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Fit a normal distribution to the data <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p>Change the formulation and the name of a figure <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;name for the x-label&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>

</pre></div>
</div>
<p>Plot the error bars <span class="math notranslate nohighlight">\(\rightarrow\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="n">value2</span><span class="p">,</span> <span class="n">xerr</span> <span class="o">=</span> <span class="n">error1</span><span class="p">,</span> <span class="n">yerr</span> <span class="o">=</span> <span class="n">error2</span><span class="p">,</span> <span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Figures are perhaps the most important reason to use programming in science education. It is easy and effortless to make clear visualizations of large amounts of data. Different use cases require different methods, the most common of which are presented here.</p>
<p>The colours and markers of figures can freely be changed. <a class="reference external" href="https://matplotlib.org/stable/api/markers_api.html">Here</a> is a list of markers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A basic plot with the plot-function.</span>

<span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">54</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">numbers</span><span class="p">,</span> <span class="s1">&#39;b*&#39;</span><span class="p">)</span>

<span class="c1"># It is a good idea to put plt.show() to the end of plotting. </span>
<span class="c1"># A plot can be seen without it as well, but sometimes it only shows a memory address or some unrecognizable junk. </span>
<span class="c1"># plt.show() fixes this.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_59_0.png" src="../_images/Python-tutorial_59_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># It is useful to give a figure a name in order to make its purpose clearer.</span>
<span class="c1"># Here you can see how different parts of the figure are named.</span>

<span class="c1"># Two random datasets:</span>

<span class="n">res1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span><span class="o">*</span><span class="n">rand</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">res2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span><span class="o">*</span><span class="n">rand</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Let&#39;s plot both of them:</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">res1</span><span class="p">,</span> <span class="s1">&#39;r^&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Measurement 1&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">res2</span><span class="p">,</span> <span class="s1">&#39;b*&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Measurement 2&#39;</span><span class="p">)</span>

<span class="c1"># Name the axes and the title.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time (s)&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;velocity (m/s)&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Measurements of movement </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span> <span class="c1"># \n creates a new row for formulating the title</span>
          
<span class="c1"># Add a legend. If loc-parameter is not specified manually, the legend is automatically placed somewhere where it can fit.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>

<span class="c1"># Show the plot.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_60_0.png" src="../_images/Python-tutorial_60_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Other trigonometric functions can be plotted as well.</span>

<span class="c1"># The x-axis will be an evenly spaced list of numbers.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1"># Define the functions to be plotted:</span>

<span class="n">y1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># Plot the functions.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;sin(x)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;cos(x)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_61_0.png" src="../_images/Python-tutorial_61_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The default size of a figure in Jupyter is somewhat small. The figsize-parameter helps us to scale images to wanted sizes.</span>
<span class="c1"># Let&#39;s remake the previous figure.</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="n">y1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># Here is defined the size of the figure. You can try out different sizes.</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;sin(x)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;cos(x)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_62_0.png" src="../_images/Python-tutorial_62_0.png" />
</div>
</div>
<p>Another common figure is the <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.scatter.html">scatterplot</a>, in which both axes are variables. It is commonly used for example in physics research.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">randomizer</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)):</span>
        <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">rand</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">b</span><span class="p">;</span>

<span class="c1"># Take some random data where another variable is spread between 0 to 5 and the other one between 0 to 20.</span>

<span class="n">value1</span> <span class="o">=</span> <span class="n">randomizer</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">value2</span> <span class="o">=</span> <span class="n">randomizer</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="n">value2</span><span class="p">,</span> <span class="n">marker</span> <span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_64_0.png" src="../_images/Python-tutorial_64_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Another scatterplot example. In this one the values of the variables follow the normal distribution.</span>

<span class="k">def</span> <span class="nf">randomize</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)):</span>
        <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">rand</span><span class="o">.</span><span class="n">normalvariate</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">b</span><span class="p">;</span>

<span class="n">value1</span> <span class="o">=</span> <span class="n">randomize</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">value2</span> <span class="o">=</span> <span class="n">randomize</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="n">value2</span><span class="p">,</span> <span class="n">marker</span> <span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>

<span class="c1"># Let&#39;s add a linear fit to the figure using the method of least squares.</span>

<span class="n">slope</span><span class="p">,</span> <span class="n">intercept</span><span class="p">,</span> <span class="n">r_value</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="n">std_err</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">linregress</span><span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="n">value2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="n">intercept</span> <span class="o">+</span> <span class="n">slope</span><span class="o">*</span><span class="n">value1</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Fit&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># If we wanted to know the mathematical properties of the linear fit, we could for example write print(slope) etc.</span>

<span class="c1"># Jos haluaisi tietää suoran matemaattisia arvoja, voisi kirjoittaa esim. print (slope) jne.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_65_0.png" src="../_images/Python-tutorial_65_0.png" />
</div>
</div>
<p>Another important type of diagram is the histogram, which lets us to represent graphically the relative frequencies in the data. Histograms are used everywhere from particle physics to medicine and social science.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s take a random age distribution and make a histogram of it.</span>

<span class="k">def</span> <span class="nf">ageGenerator</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)):</span>
        <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">rand</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">b</span><span class="p">;</span>

<span class="n">ages</span> <span class="o">=</span> <span class="n">ageGenerator</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ages</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="nb">range</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">110</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Years of age&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Age distribution in a sample of </span><span class="si">%i</span><span class="s1"> people </span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ages</span><span class="p">)),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span> <span class="p">)</span> 

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_67_0.png" src="../_images/Python-tutorial_67_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Let&#39;s use some data from a particle physics experiment.</span>

<span class="n">doublemuons</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;http://opendata.cern.ch/record/545/files/Dimuon_DoubleMu.csv&#39;</span><span class="p">)</span>

<span class="c1"># Let&#39;s make a histogram with respect to the invariant mass, the column M.</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">doublemuons</span><span class="o">.</span><span class="n">M</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span> <span class="nb">range</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">150</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Invariant mass (GeV/$c^2$)&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;The event count&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;The distribution of the invariant mass of two muons </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span> <span class="p">)</span> 

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_68_0.png" src="../_images/Python-tutorial_68_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s analyze the area between 80 and 100.</span>

<span class="n">peak</span> <span class="o">=</span> <span class="n">doublemuons</span><span class="p">[(</span><span class="n">doublemuons</span><span class="o">.</span><span class="n">M</span> <span class="o">&gt;=</span> <span class="mi">80</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">doublemuons</span><span class="o">.</span><span class="n">M</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)]</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">peak</span><span class="o">.</span><span class="n">M</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="mi">200</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Invariant mass (GeV/$c^2$)&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;The event count&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;The distribution of the invariant mass of two muons </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span> <span class="p">)</span> 

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_69_0.png" src="../_images/Python-tutorial_69_0.png" />
</div>
</div>
<p>On average, fitting nonlinear curves with the data needs a bit more programming. But in the case of distributions Python offers a variety of suitable functions. For example, you can fit a normal distribution to the above figure as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s defined the limits of the fit:</span>

<span class="n">lower_limit</span> <span class="o">=</span> <span class="mi">87</span>
<span class="n">upper_limit</span> <span class="o">=</span> <span class="mi">95</span>

<span class="n">peak</span> <span class="o">=</span> <span class="n">doublemuons</span><span class="p">[(</span><span class="n">doublemuons</span><span class="o">.</span><span class="n">M</span> <span class="o">&gt;</span> <span class="n">lower_limit</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">doublemuons</span><span class="o">.</span><span class="n">M</span> <span class="o">&lt;</span> <span class="n">upper_limit</span><span class="p">)]</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="c1"># Let&#39;s define the limits for the data we&#39;re going to plot.</span>

<span class="n">lower</span> <span class="o">=</span> <span class="mi">80</span>
<span class="n">upper</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">area</span> <span class="o">=</span> <span class="n">doublemuons</span><span class="p">[(</span><span class="n">doublemuons</span><span class="o">.</span><span class="n">M</span> <span class="o">&gt;</span> <span class="n">lower</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">doublemuons</span><span class="o">.</span><span class="n">M</span> <span class="o">&lt;</span> <span class="n">upper</span><span class="p">)]</span>

<span class="c1"># Since the area of the histogram is set to one for the purposes of the cumulative distribution function,</span>
<span class="c1"># let&#39;s define a coefficient that takes into account the ratio between the analyzed area and the full area when making a fit.</span>

<span class="n">coef</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">peak</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">area</span><span class="p">)</span>
<span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">peak</span><span class="o">.</span><span class="n">M</span><span class="p">)</span>

<span class="c1"># Let&#39;s draw a histogram between the limits we set earlier:</span>

<span class="n">n</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">patches</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">doublemuons</span><span class="o">.</span><span class="n">M</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="n">density</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">facecolor</span> <span class="o">=</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s1">&#39;stepfilled&#39;</span><span class="p">,</span>
                            <span class="nb">range</span><span class="o">=</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span><span class="n">upper</span><span class="p">))</span>

<span class="c1"># Now we&#39;ll plot the normal distribution with the coeffiecent we defined above.</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">coef</span><span class="o">*</span><span class="n">norm</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span> <span class="n">bins</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">bins</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;r--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Mass [GeV/$c^2$]&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Probability of an event&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="c1"># The title contains the values we calculated from the data.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$\mathrm{A\ histogram\ from\ the\ invariant\ masses\ normed\ to\ one:}\ \mu=</span><span class="si">%.3f</span><span class="s1">,\ \sigma=</span><span class="si">%.3f</span><span class="s1">$&#39;</span>
          <span class="o">%</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">sigma</span><span class="p">),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="c1"># Add a grid</span>

<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_71_0.png" src="../_images/Python-tutorial_71_0.png" />
</div>
</div>
<p>We can also plot a figure from a file that doesn’t have numbers. For example, let’s use statistics of road accidents in London.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Around 40,000 road accidents on different vehicles. The same event has the same reference number AREFNO.</span>

<span class="c1"># Nelisenkymmentätuhatta tapaturmaa erinäisin kulkupelein, samalla tapahtumalla on sama viitenumero AREFNO.</span>

<span class="n">traffic</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s1">&#39;../exercises/2016-gla-data-extract-vehicle.csv&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="n">injured</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s1">&#39;../exercises/2016-gla-data-extract-casualty.csv&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">traffic</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>AREFNO</th>
      <th>Borough</th>
      <th>Boro</th>
      <th>Easting</th>
      <th>Northing</th>
      <th>Vehicle Ref.</th>
      <th>Vehicle Type</th>
      <th>Vehicle Type (Banded)</th>
      <th>Vehicle Manoeuvres</th>
      <th>Vehicle Skidding</th>
      <th>Restricted Lane</th>
      <th>Junction Location</th>
      <th>Object in C/W</th>
      <th>Veh. Leaving C/W</th>
      <th>Veh. off C/W</th>
      <th>Veh. Impact</th>
      <th>VJNYPURP DECODED</th>
      <th>Driver Sex</th>
      <th>Driver Age</th>
      <th>Driver Age (Banded)</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1160001090</td>
      <td>CITY OF LONDON</td>
      <td>0</td>
      <td>531350</td>
      <td>181580</td>
      <td>1</td>
      <td>08 Taxi</td>
      <td>4 Taxi</td>
      <td>04 Slowing Or Stopping</td>
      <td>0 No Skidding/Overturn</td>
      <td>0 On Main Cw - Not Rest.</td>
      <td>0 Not At Jct</td>
      <td>00 None</td>
      <td>0 Did Not Leave</td>
      <td>00 None</td>
      <td>4 N/S Hit First</td>
      <td>1 Jny Part of Work</td>
      <td>1 Male</td>
      <td>46</td>
      <td>35-64</td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>1160002980</td>
      <td>CITY OF LONDON</td>
      <td>0</td>
      <td>532780</td>
      <td>180410</td>
      <td>1</td>
      <td>01 Pedal Cycle</td>
      <td>1 Pedal cycle</td>
      <td>13 Overtake Move Veh O/S</td>
      <td>0 No Skidding/Overturn</td>
      <td>0 On Main Cw - Not Rest.</td>
      <td>0 Not At Jct</td>
      <td>00 None</td>
      <td>0 Did Not Leave</td>
      <td>00 None</td>
      <td>1 Front Hit First</td>
      <td>5 Other/Not Known</td>
      <td>3 Not Traced</td>
      <td>0</td>
      <td>Unknown</td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>1160002980</td>
      <td>CITY OF LONDON</td>
      <td>0</td>
      <td>532780</td>
      <td>180410</td>
      <td>2</td>
      <td>01 Pedal Cycle</td>
      <td>1 Pedal cycle</td>
      <td>14 Overtake Stat Veh O/S</td>
      <td>0 No Skidding/Overturn</td>
      <td>0 On Main Cw - Not Rest.</td>
      <td>0 Not At Jct</td>
      <td>00 None</td>
      <td>0 Did Not Leave</td>
      <td>00 None</td>
      <td>2 Back Hit First</td>
      <td>5 Other/Not Known</td>
      <td>1 Male</td>
      <td>46</td>
      <td>35-64</td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>1160006347</td>
      <td>CITY OF LONDON</td>
      <td>0</td>
      <td>531400</td>
      <td>181570</td>
      <td>1</td>
      <td>09 Car</td>
      <td>3 Car</td>
      <td>09 Turning Right</td>
      <td>0 No Skidding/Overturn</td>
      <td>0 On Main Cw - Not Rest.</td>
      <td>8 Jct Mid</td>
      <td>00 None</td>
      <td>0 Did Not Leave</td>
      <td>00 None</td>
      <td>1 Front Hit First</td>
      <td>5 Other/Not Known</td>
      <td>1 Male</td>
      <td>22</td>
      <td>17-24</td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>1160006347</td>
      <td>CITY OF LONDON</td>
      <td>0</td>
      <td>531400</td>
      <td>181570</td>
      <td>2</td>
      <td>09 Car</td>
      <td>3 Car</td>
      <td>05 Moving Off</td>
      <td>0 No Skidding/Overturn</td>
      <td>0 On Main Cw - Not Rest.</td>
      <td>8 Jct Mid</td>
      <td>00 None</td>
      <td>0 Did Not Leave</td>
      <td>00 None</td>
      <td>3 O/S Hit First</td>
      <td>5 Other/Not Known</td>
      <td>1 Male</td>
      <td>69</td>
      <td>65+</td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">injured</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>AREFNO</th>
      <th>Borough</th>
      <th>Boro</th>
      <th>Easting</th>
      <th>Northing</th>
      <th>CREFNO</th>
      <th>Casualty Class</th>
      <th>Casualty Sex</th>
      <th>Casualty Age (Banded)</th>
      <th>Casualty Age</th>
      <th>No. of Casualties</th>
      <th>Casualty Severity</th>
      <th>Ped. Location</th>
      <th>Ped. Movement</th>
      <th>Mode of Travel</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1160001090</td>
      <td>CITY OF LONDON</td>
      <td>0</td>
      <td>531350</td>
      <td>181580</td>
      <td>1</td>
      <td>3 Pedestrian</td>
      <td>1 Male</td>
      <td>25-59</td>
      <td>54</td>
      <td>1</td>
      <td>3 Slight</td>
      <td>09 In Road - Not Crossing</td>
      <td>7 In Rd Facing Traffic</td>
      <td>1 Pedestrian</td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>1160002980</td>
      <td>CITY OF LONDON</td>
      <td>0</td>
      <td>532780</td>
      <td>180410</td>
      <td>1</td>
      <td>1 Driver/Rider</td>
      <td>1 Male</td>
      <td>25-59</td>
      <td>46</td>
      <td>1</td>
      <td>2 Serious</td>
      <td>-2 Unknown</td>
      <td>-2 N/A</td>
      <td>2 Pedal Cycle</td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>1160006347</td>
      <td>CITY OF LONDON</td>
      <td>0</td>
      <td>531400</td>
      <td>181570</td>
      <td>3</td>
      <td>2 Passenger</td>
      <td>2 Female</td>
      <td>60+</td>
      <td>61</td>
      <td>1</td>
      <td>3 Slight</td>
      <td>-2 Unknown</td>
      <td>-2 N/A</td>
      <td>4 Car</td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>1160006347</td>
      <td>CITY OF LONDON</td>
      <td>0</td>
      <td>531400</td>
      <td>181570</td>
      <td>2</td>
      <td>1 Driver/Rider</td>
      <td>1 Male</td>
      <td>60+</td>
      <td>69</td>
      <td>1</td>
      <td>3 Slight</td>
      <td>-2 Unknown</td>
      <td>-2 N/A</td>
      <td>4 Car</td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>1160006347</td>
      <td>CITY OF LONDON</td>
      <td>0</td>
      <td>531400</td>
      <td>181570</td>
      <td>1</td>
      <td>1 Driver/Rider</td>
      <td>1 Male</td>
      <td>16-24</td>
      <td>22</td>
      <td>1</td>
      <td>3 Slight</td>
      <td>-2 Unknown</td>
      <td>-2 N/A</td>
      <td>4 Car</td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s choose the age range:</span>

<span class="n">lower_limit</span> <span class="o">=</span> <span class="mi">16</span>
<span class="n">upper_limit</span> <span class="o">=</span> <span class="mi">25</span>
<span class="n">agerange</span> <span class="o">=</span> <span class="n">traffic</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">traffic</span><span class="p">[</span><span class="s1">&#39;Driver Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">upper_limit</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">traffic</span><span class="p">[</span><span class="s1">&#39;Driver Age&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">lower_limit</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s plot the accidents of this age group on different vehicles.</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">agerange</span><span class="p">[</span><span class="s1">&#39;Vehicle Type&#39;</span><span class="p">],</span> <span class="n">bins</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span>

<span class="c1"># Define how the labels in the x-axis work, especially their rotation.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span> <span class="n">ha</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_77_0.png" src="../_images/Python-tutorial_77_0.png" />
</div>
</div>
<p>From the figure we can see, unsurprisingly, that most of the road accidents are collisions of cars. However, we can also spot a ridden horse from the list. Let’s analyze this further:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Isolate the horse collisions from the traffic data.</span>

<span class="n">horses</span> <span class="o">=</span> <span class="n">traffic</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">traffic</span><span class="p">[</span><span class="s1">&#39;Vehicle Type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;16 Ridden Horse&#39;</span><span class="p">]</span>
<span class="n">horses</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>AREFNO</th>
      <th>Borough</th>
      <th>Boro</th>
      <th>Easting</th>
      <th>Northing</th>
      <th>Vehicle Ref.</th>
      <th>Vehicle Type</th>
      <th>Vehicle Type (Banded)</th>
      <th>Vehicle Manoeuvres</th>
      <th>Vehicle Skidding</th>
      <th>Restricted Lane</th>
      <th>Junction Location</th>
      <th>Object in C/W</th>
      <th>Veh. Leaving C/W</th>
      <th>Veh. off C/W</th>
      <th>Veh. Impact</th>
      <th>VJNYPURP DECODED</th>
      <th>Driver Sex</th>
      <th>Driver Age</th>
      <th>Driver Age (Banded)</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>33056</th>
      <td>0116TW60237</td>
      <td>RICHMOND-UPON-THAMES</td>
      <td>24</td>
      <td>518450</td>
      <td>173770</td>
      <td>1</td>
      <td>16 Ridden Horse</td>
      <td>8 Other</td>
      <td>18 Going Ahead Other</td>
      <td>0 No Skidding/Overturn</td>
      <td>0 On Main Cw - Not Rest.</td>
      <td>2 Jct Cleared</td>
      <td>00 None</td>
      <td>0 Did Not Leave</td>
      <td>00 None</td>
      <td>1 Front Hit First</td>
      <td>1 Jny Part of Work</td>
      <td>1 Male</td>
      <td>25</td>
      <td>25-34</td>
      <td></td>
    </tr>
    <tr>
      <th>33057</th>
      <td>0116TW60237</td>
      <td>RICHMOND-UPON-THAMES</td>
      <td>24</td>
      <td>518450</td>
      <td>173770</td>
      <td>2</td>
      <td>16 Ridden Horse</td>
      <td>8 Other</td>
      <td>18 Going Ahead Other</td>
      <td>0 No Skidding/Overturn</td>
      <td>0 On Main Cw - Not Rest.</td>
      <td>2 Jct Cleared</td>
      <td>00 None</td>
      <td>0 Did Not Leave</td>
      <td>00 None</td>
      <td>2 Back Hit First</td>
      <td>1 Jny Part of Work</td>
      <td>1 Male</td>
      <td>28</td>
      <td>25-34</td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We observe the same AREFNO, which means that the horses collided with each other. What were the injuries?</span>

<span class="n">horseInjuries</span> <span class="o">=</span> <span class="n">injured</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">injured</span><span class="p">[</span><span class="s1">&#39;AREFNO&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0116TW60237&#39;</span><span class="p">]</span>
<span class="n">horseInjuries</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>AREFNO</th>
      <th>Borough</th>
      <th>Boro</th>
      <th>Easting</th>
      <th>Northing</th>
      <th>CREFNO</th>
      <th>Casualty Class</th>
      <th>Casualty Sex</th>
      <th>Casualty Age (Banded)</th>
      <th>Casualty Age</th>
      <th>No. of Casualties</th>
      <th>Casualty Severity</th>
      <th>Ped. Location</th>
      <th>Ped. Movement</th>
      <th>Mode of Travel</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>22096</th>
      <td>0116TW60237</td>
      <td>RICHMOND-UPON-THAMES</td>
      <td>24</td>
      <td>518450</td>
      <td>173770</td>
      <td>1</td>
      <td>1 Driver/Rider</td>
      <td>1 Male</td>
      <td>25-59</td>
      <td>28</td>
      <td>1</td>
      <td>3 Slight</td>
      <td>-2 Unknown</td>
      <td>-2 N/A</td>
      <td>8 Other Vehicle</td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In real data, there are always inaccuracies with respect to the precise measurement and how precisely something can even be measured. These precision values can be obtained using statistical processes or sometimes they are known for each value separately. Let’s take a look at an example of this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">randomizer</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)):</span>
        <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">rand</span><span class="o">.</span><span class="n">normalvariate</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">b</span><span class="p">;</span>

<span class="c1"># Create data points that vary according to normal distribution.</span>

<span class="n">val1</span> <span class="o">=</span> <span class="n">randomizer</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">val2</span> <span class="o">=</span> <span class="n">randomizer</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>

<span class="c1"># Give each data point an error that is normally distributed.</span>

<span class="n">err1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="n">randomizer</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">val1</span><span class="p">)))</span>
<span class="n">err2</span> <span class="o">=</span> <span class="n">randomizer</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">val2</span><span class="p">)))</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">,</span> <span class="n">marker</span> <span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Measurements&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">,</span> <span class="n">xerr</span> <span class="o">=</span> <span class="n">err1</span><span class="p">,</span> <span class="n">yerr</span> <span class="o">=</span> <span class="n">err2</span><span class="p">,</span> <span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">)</span>

<span class="c1"># Let&#39;s calculate a linear fit with the sum of least squares.</span>

<span class="n">slope</span><span class="p">,</span> <span class="n">intercept</span><span class="p">,</span> <span class="n">r_value</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="n">std_err</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">linregress</span><span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">intercept</span> <span class="o">+</span> <span class="n">slope</span><span class="o">*</span><span class="n">val1</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Fit&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># If we want to know the mathematical properties of the linear fit, we could for example write print(slope) etc.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Python-tutorial_82_0.png" src="../_images/Python-tutorial_82_0.png" />
</div>
</div>
<p><a id="animations"></a></p>
</section>
<section id="animations">
<h2>7. Animations<a class="headerlink" href="#animations" title="Permalink to this headline">#</a></h2>
<p>Python has multiple ways of making animations. However, we don’t recommend using the plotly-library with Notebooks, since it is so slow. The following example shows clearly why more data gives better results.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the data we want to use</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;http://opendata.cern.ch/record/545/files/Dimuon_DoubleMu.csv&#39;</span><span class="p">)</span>

<span class="c1"># Save the invariant mass into a variable</span>
<span class="n">iMass</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">M</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define a function that produces our figure. </span>
<span class="c1"># Num says how many steps we have taken and the function draws a new histogram for each step.</span>

<span class="k">def</span> <span class="nf">updt_hist</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">iMass</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">12000</span><span class="p">)</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">iMass</span><span class="p">[:</span><span class="n">num</span><span class="o">*</span><span class="mi">480</span><span class="p">],</span> <span class="n">bins</span> <span class="o">=</span> <span class="mi">120</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Note that cells that contain animations are <em><strong>slow</strong></em>. The more images, the slower it is to make them. This can take several minutes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import a library that produces animations.</span>
<span class="kn">import</span> <span class="nn">matplotlib.animation</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%capture</span>

<span class="c1"># The purpose of the %%capture -magic function is to prevent this cell from displaying a finished image, </span>
<span class="c1"># so that there won&#39;t be empty images or other unnecessary things. It makes our life easier.</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

<span class="c1"># fargs says which variables a function takes as input and the empty part tells to the prorgram that it must use two variables.</span>
<span class="c1"># The other variable is the current frame.</span>

<span class="n">anim</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">updt_hist</span><span class="p">,</span> <span class="n">frames</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">fargs</span><span class="o">=</span><span class="p">(</span><span class="n">iMass</span><span class="p">,</span> <span class="p">)</span> <span class="p">)</span>

<span class="c1"># anim.to_jshtml() changes the animation to (javascript)html so that Notebook can show it.</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>
<span class="n">HTML</span><span class="p">(</span><span class="n">anim</span><span class="o">.</span><span class="n">to_jshtml</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tämän ajamalla animaatio saadaan sitten näkyväksi, kun se on ohjelman muistissa.</span>
<span class="c1"># Running this cell the animation can be shown, when it is in the memory of the program.</span>

<span class="n">HTML</span><span class="p">(</span><span class="n">anim</span><span class="o">.</span><span class="n">to_jshtml</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p><a id="maps"></a></p>
</section>
<section id="maps-and-heat-maps">
<h2>8. Maps and heat maps<a class="headerlink" href="#maps-and-heat-maps" title="Permalink to this headline">#</a></h2>
<p>Let’s now take a look at interactive maps that utilize data! Making them is easier than you would think. In the following example we use data that contains latitudes and longitudes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We can find different maps from the folium-library.</span>

<span class="kn">import</span> <span class="nn">folium</span>

<span class="c1"># Tiheyttä värein edustava heatmap-systeemi on myös näppärä, joten otetaan se käyttöön.</span>
<span class="c1"># Let&#39;s import the HeatMap-system. It is represents density as colours, which is useful for our purposes.</span>

<span class="kn">from</span> <span class="nn">folium.plugins</span> <span class="kn">import</span> <span class="n">HeatMap</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This dataset contains information about earthquakes all around the world that happened in the last month. </span>
<span class="c1"># It is updated continually.</span>

<span class="n">quakeData</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.csv&#39;</span><span class="p">)</span>
<span class="n">quakeData</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Since our data is in DataFrame-form, we change it first into lists that HeatMap understands.</span>

<span class="n">dat</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">quakeData</span><span class="p">)</span>

<span class="c1"># The list contains values (tuples), that contain latitude, longitude and the strength of the earthquake.</span>
<span class="c1"># Magnitude isn&#39;t strictly necessary for our purposes, but it can become useful for example if we want to study </span>
<span class="c1"># only the instances that cross a certain threshold.</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">quakeData</span><span class="p">)):</span>
    <span class="n">dat</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">quakeData</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">quakeData</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">quakeData</span><span class="p">[</span><span class="s1">&#39;mag&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># In case that there are also rows whose magnitude is unknown (indicated as NaN),</span>
<span class="c1"># let&#39;s remove them so that our list doesn&#39;t start behaving awkwardly.</span>

<span class="n">dat</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dat</span> <span class="k">if</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Different types of maps: https://deparkes.co.uk/2016/06/10/folium-map-tiles/</span>
<span class="c1"># &#39;world_copy_jump = True&#39; enables rolling the map to the side so that the earthquakes are still shown.</span>
<span class="c1"># If you only want one map projection, please add the argument &#39;no_wrap = True&#39; to the list of arguments.</span>
<span class="c1"># The argument control_scale adds a scale to the map.</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">([</span><span class="mf">15.</span><span class="p">,</span> <span class="o">-</span><span class="mf">75.</span><span class="p">],</span> <span class="n">tiles</span><span class="o">=</span><span class="s1">&#39;openstreetmap&#39;</span><span class="p">,</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">world_copy_jump</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">control_scale</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">HeatMap</span><span class="p">(</span><span class="n">dat</span><span class="p">,</span> <span class="n">radius</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p><a id="problems"></a></p>
</section>
<section id="common-problems">
<h2>9. Common problems<a class="headerlink" href="#common-problems" title="Permalink to this headline">#</a></h2>
<p>Here is a list of some common problems:</p>
<ul class="simple">
<li><p><a class="reference external" href="#stuck">A cell got stuck and it won’t draw my figure or run my code.</a></p></li>
<li><p><a class="reference external" href="#notedfined">An error message says ‘name is not defined’ or ‘name does not exist’.</a></p></li>
<li><p><a class="reference external" href="#printnone">I’m trying to save something in a variable but print(name) outputs None.</a></p></li>
<li><p><a class="reference external" href="#load">I can’t load my data into a variable.</a></p></li>
<li><p><a class="reference external" href="#nan">Why does my dataset have ‘NaN’-values?</a></p></li>
<li><p><a class="reference external" href="#pieces">I combined pieces of data into a variable, but I can’t use it.</a></p></li>
<li><p><a class="reference external" href="#correct">Why doesn’t my code work although I know it’s written correctly?</a></p></li>
<li><p><a class="reference external" href="#dates">The dates in the data mess up the program. How do I fix this?</a></p></li>
<li><p><a class="reference external" href="#variables">I copied the data into a new variable. After I have processed it, I see that the values of the original variable have changed.</a></p></li>
</ul>
<p>Solu jäi jumiin eikä piirrä kuvaajaani tai aja koodiani?<br />
Virheilmoitus herjaa ‘nimi is not defined’ tai ‘nimi does not exist’?<br />
Yritän tallentaa muuttujaan asioita, mutta print(nimi) kertookin None?<br />
Datani ei suostu lataamaan?<br />
Lataamassani datassa on jotain omituisia ‘NaN’-arvoja?<br />
Yhdistin palasia datasta, mutta nyt en enää pysty tekemään asioita uudella muuttujallani?<br />
Koodini ei toimi, vaikka se on ihan varmasti oikein kirjoitettu?<br />
Datan päivämäärät sekoittavat toiminnan, miten korjaan?<br />
Kopioin datan uuteen muuttujaan, jonka käsittelyn jälkeen huomaan alkuperäisen muuttujan arvojen vaihtuneen?</p>
<p><a id="stuck"></a></p>
<section id="a-cell-got-stuck-and-it-won-t-draw-my-figure-or-run-my-code">
<h3>A cell got stuck and it won’t draw my figure or run my code.<a class="headerlink" href="#a-cell-got-stuck-and-it-won-t-draw-my-figure-or-run-my-code" title="Permalink to this headline">#</a></h3>
<p>If it takes more time than it should to run a cell, and the code isn’t doing anything computing-intensive, then it is possible that there is an infinite loop in the code. Stop the execution of the kernel and make sure your code doesn’t have infinite loops. If you don’t find the problem, make the syntax simpler so that you can be sure that the code is logical.</p>
<p>A common problem is that a syntax error drives the machine to do something wrong. An example: you’re making a histogram of a column of a big data set but you forget to add the name of the column into your code. Now the machine tries to execute your command and gets confused about a table that contains the whole data. Stop the kernel and change the names of the variables.</p>
<p><a id="notdefined"></a></p>
</section>
<section id="an-error-message-says-name-is-not-defined-or-name-does-not-exist">
<h3>An error message says ‘name is not defined’ or ‘name does not exist’.<a class="headerlink" href="#an-error-message-says-name-is-not-defined-or-name-does-not-exist" title="Permalink to this headline">#</a></h3>
<p>The variable you’re alluding to doesn’t exist. Are you sure you have run the cell where the variable is defined in this session? Also, remember that the size of the letters matters.</p>
<p><a id="printnone"></a></p>
</section>
<section id="i-m-trying-to-save-something-in-a-variable-but-print-name-outputs-none">
<h3>I’m trying to save something in a variable but print(name) outputs None.<a class="headerlink" href="#i-m-trying-to-save-something-in-a-variable-but-print-name-outputs-none" title="Permalink to this headline">#</a></h3>
<p>You probably haven’t saved the value properly into the variable. Remember to save all the operations you have made into a variable, e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="o">=</span> <span class="o">...</span> <span class="n">imported</span> <span class="n">data</span>
<span class="n">variable</span> <span class="o">=</span> <span class="n">variable</span><span class="o">*</span><span class="mi">2</span>
</pre></div>
</div>
<p>and not</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="o">=</span> <span class="o">...</span> <span class="n">imported</span> <span class="n">data</span>
<span class="n">variable</span><span class="o">*</span><span class="mi">2</span>
</pre></div>
</div>
<p>If print(variable) returns None, the variable is empty. Make sure that the operation you want to do is possible and doesn’t fall apart because of e.g. invalid inputs for an inner function.</p>
<p><a id="load"></a></p>
</section>
<section id="i-can-t-load-my-data-into-a-variable">
<h3>I can’t load my data into a variable.<a class="headerlink" href="#i-can-t-load-my-data-into-a-variable" title="Permalink to this headline">#</a></h3>
<p>Ordinary csv-files and similar files can be viewed with text editors. There you can see which character separates the values, which row the relevant data starts from, and is does the file contain the data you need.</p>
<p>Separator characters, headers, and others can be defined as parameters of the read-function, e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;link to a file&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>reads a csv-file whose values are separated by a semicolon. More about this in the section 3.</p>
<p><strong>pd.read_table()</strong> can help to clarify the data if you don’t want to open a text editor.</p>
<p>Sometimes there are incompabilities with the codes that guide the character encoding. This is when the parameter <strong>encoding</strong> can be of help. More information about them can be found <a class="reference external" href="https://docs.python.org/3/library/codecs.html#standard-encodings">here</a>. If the default option doesn’t work, try some variant of ISO; it should work in most cases.</p>
<p><a id="nan"></a></p>
</section>
<section id="why-does-my-dataset-have-nan-values">
<h3>Why does my dataset have ‘NaN’-values?<a class="headerlink" href="#why-does-my-dataset-have-nan-values" title="Permalink to this headline">#</a></h3>
<p>NaN, ‘Not a Number’, says that there is no value in this part of the data set. Either the value is weird (such as the square root of a negative number), or it just doesn’t exist.</p>
<p>Many functions doen’t care about NaN-values or you can add a parameter that lets the function to ignore them. This helps especially when you have big datasets, since the program won’t stall when it has to compute something incalculable.</p>
<p><a id="pieces"></a></p>
</section>
<section id="i-combined-pieces-of-data-into-a-variable-but-i-can-t-use-it">
<h3>I combined pieces of data into a variable, but I can’t use it.<a class="headerlink" href="#i-combined-pieces-of-data-into-a-variable-but-i-can-t-use-it" title="Permalink to this headline">#</a></h3>
<p>Did you combine different types of variables? The computer handles integers, floating point numbers, strings, and other value types differently. Sometimes a series of numbers is written as a string into a dataset, which causes all kind of trouble. Python has different commands for checking the type of a variable, such as isstring.</p>
<p>Did you combine the pieces correctly? If you wanted columns next to each other, make sure you didn’t combine them into a single long column. Analyzing the data with e.g. commands <strong>len(name)</strong> and <strong>name.head()</strong> is often useful in these situations.</p>
<p><a id="correct"></a></p>
</section>
<section id="why-doesn-t-my-code-work-although-i-know-it-s-written-correctly">
<h3>Why doesn’t my code work although I know it’s written correctly?<a class="headerlink" href="#why-doesn-t-my-code-work-although-i-know-it-s-written-correctly" title="Permalink to this headline">#</a></h3>
<p>Go over your code and check that there isn’t a dot in a wrong place or a wrong size letter somewhere.</p>
<p>If you’re sure the code is supposed to work but it doesn’t, the problem may be caused by old values in the kernel’s memory. Try clicking on ‘Restart &amp; Clear Output’ from the Kernel-menu, possibly even couple times.</p>
<p><a id="dates"></a></p>
</section>
<section id="the-dates-in-the-data-mess-up-the-program-how-do-i-fix-this">
<h3>The dates in the data mess up the program. How do I fix this?<a class="headerlink" href="#the-dates-in-the-data-mess-up-the-program-how-do-i-fix-this" title="Permalink to this headline">#</a></h3>
<p>Dates can be expressed in many forms in the data. If the default settings don’t work, you can find different parameters that affect the interpretation of dates in the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html">documentation</a> of <strong>pd.read_csv()</strong>. For example. <strong>dayfirst</strong> or <strong>date_parser</strong> may solve the problem. Python has also the <a class="reference external" href="https://docs.python.org/3/library/time.html"><strong>time</strong></a>-library that can be of help.</p>
<p><a id="values"></a></p>
</section>
<section id="i-copied-the-data-into-a-new-variable-after-i-have-processed-it-i-see-that-the-values-of-the-original-variable-have-changed">
<h3>I copied the data into a new variable. After I have processed it, I see that the values of the original variable have changed.<a class="headerlink" href="#i-copied-the-data-into-a-new-variable-after-i-have-processed-it-i-see-that-the-values-of-the-original-variable-have-changed" title="Permalink to this headline">#</a></h3>
<p>Python operates by pointers. This means that a variable contains a pointer to a memory slot where the information is located, rather than containing the information itself. When copying a full data variable to a new variable rather than single rows or columns, it may happen that the new variable just points to the old information. If the content of the new variable is changed, the changes are made to the old variable as well. Because of this, it is useful to copy the original variable as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">newName</span> <span class="o">=</span> <span class="n">oldName</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
<p>Now the program uses a new memory slot so that the new variable doesn’t point to the old one. The problem seems to happen only when saving the whole data into a new variable, which means that isolating single rows or columns into variables happens without referencing the original data.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./exercises"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="Python.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Python</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="data-analysis.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Data-analysis</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By HIP Education and Open Data Team<br/>
  
    <div class="extra_footer">
      <div>
<a>Development of this material is made possible by a grant from Finnish National Agency of Education</a></br><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="license" alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> The material on this website is licenced under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY 4.0.</a> licence.
</div>

    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>